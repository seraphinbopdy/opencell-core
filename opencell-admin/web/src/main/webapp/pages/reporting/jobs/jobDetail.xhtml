<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:hftl="http://hftl.org"
    template="/layout/template.xhtml">
        
        <f:metadata>
            <f:viewParam name="objectId" value="#{jobBean.objectId}" />
        </f:metadata>
    
    <ui:define name="body">
    	
		<hftl:formPanel label="#{messages['job.jobPanel']}" backingBean="#{jobBean}" >
 			<hftl:formField label="#{messages['job.name']}" field="name" edit="false" useConverter="false"/>
   		    <hftl:formField label="#{messages['job.nextExecutionDate']}" field="nextExecutionDate" isDate="true"/>
   		    <hftl:formField label="#{messages['job.lastExecutionDate']}" field="lastExecutionDate" isDate="true"/>
   		    <hftl:formField label="#{messages['job.active']}" field="active" isMessage="true"/>
   			<hftl:formField label="#{messages['job.jobFrequencyId']}" field="frequency" childField="label" isMessage="true" edit="false"/>
			<hftl:formField label="#{messages['job.executions']}" field="jobHistory" showFields="jobHistory.executionDate,executionDate"  showButtonAddNew="false"/>
			<h:commandButton rendered="#{edit}" id="executeJobNow" value="#{messages['job.executeJobNow']}" action="#{jobBean.executeJob}">
				<f:attribute name="backView" value="#{backView}" />
			</h:commandButton>
		</hftl:formPanel>
       
    </ui:define>
    
</ui:composition>
